(()=>{"use strict";var e,r,t,i={9446:(e,r,t)=>{var i=t(4848),s=t(5338),n=t(4976),a=t(7767),c=t(6540),l=t(1083),o=t(769),d=function(e,r,t,i){return new(t||(t=Promise))((function(s,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function c(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,c)}l((i=i.apply(e,r||[])).next())}))};const h=({onSearchResults:e})=>{const[r,t]=(0,c.useState)(""),[s,n]=(0,c.useState)([]),[a,h]=(0,c.useState)([]),[u,p]=(0,c.useState)(!1),[g,m]=(0,c.useState)(!1),[x,j]=(0,c.useState)(null);(0,c.useEffect)((()=>{d(void 0,void 0,void 0,(function*(){try{p(!0);const[e,r]=yield Promise.all([l.A.get("http://127.0.0.1:8000/api/categories/"),l.A.get("http://127.0.0.1:8000/api/recipes/")]);n(e.data),h(r.data),j(null)}catch(e){j("Failed to load categories and recipes. Please try again.")}finally{p(!1)}}))}),[]);const f=(0,c.useMemo)((()=>{if(!r.trim())return{categories:[],recipes:[]};return{categories:s.filter((e=>e.name.toLowerCase().includes(r.toLowerCase()))),recipes:a.filter((e=>e.title.toLowerCase().includes(r.toLowerCase())))}}),[r,s,a]);(0,c.useEffect)((()=>{if(0===r.trim().length)return e({categories:[],recipes:[]},!1,!1),void m(!1);m(!0),f.categories.length>0||f.recipes.length>0?e(f,!1,!0):e(f,!0,!0)}),[r,f,e]);return(0,i.jsxs)("div",{className:"searchbar",children:[(0,i.jsx)("input",{type:"text",value:r,onChange:e=>{t(e.target.value)},placeholder:"Search for categories or recipes"}),u?(0,i.jsx)(o.A,{color:"#000",size:35}):null,x&&(0,i.jsx)("p",{className:"error",children:x})]})},u=()=>{const[e,r]=(0,c.useState)({categories:[],recipes:[]}),[t,s]=(0,c.useState)(!1),[n,l]=(0,c.useState)(!1),o=(0,a.Zp)(),d=(0,c.useCallback)(((e,t,i)=>{r(e),s(t),l(i)}),[]),u=(0,c.useCallback)((e=>o(`/categories/${e}`)),[o]),p=(0,c.useCallback)((e=>o(`/recipes/${e}`)),[o]);return(0,i.jsxs)("div",{className:"home-container",children:[(0,i.jsxs)("div",{className:"home-header",children:[(0,i.jsxs)("h1",{children:["Welcome to",(0,i.jsx)("br",{}),"Recipe App"]}),(0,i.jsx)("p",{children:"~ Your almanac for delicious recipes ~"})]}),(0,i.jsxs)("div",{className:"searchbar-container",children:[(0,i.jsx)(h,{onSearchResults:d}),!t&&e.categories.length>0&&(0,i.jsx)("ul",{children:e.categories.map((e=>(0,i.jsxs)("li",{onClick:()=>u(e.slug),onMouseEnter:e=>e.currentTarget.style.color="#8caaed",onMouseLeave:e=>e.currentTarget.style.color="gray",children:["Category: ",e.name]},e.slug)))}),!t&&e.recipes.length>0&&(0,i.jsx)("ul",{children:e.recipes.map((e=>(0,i.jsxs)("li",{onClick:()=>p(e.id),onMouseEnter:e=>e.currentTarget.style.color="#8caaed",onMouseLeave:e=>e.currentTarget.style.color="gray",children:["Recipe: ",e.title]},e.id)))}),n&&t&&(0,i.jsx)("p",{children:"No such category or recipe"})]})]})},p=l.A.create({baseURL:"http://127.0.0.1:8000/api/"}),g=()=>{const{slug:e}=(0,a.g)(),[r,t]=(0,c.useState)([]),[s,l]=(0,c.useState)(!0),[d,h]=(0,c.useState)(null);return(0,c.useEffect)((()=>{if(!e)return h("Category slug is missing"),void l(!1);(e=>p.get(`categories/${e}/recipes/`))(e).then((e=>{t(e.data),h(null)})).catch((()=>{h("Failed to fetch recipes for this category")})).finally((()=>{l(!1)}))}),[e]),s?(0,i.jsxs)("div",{className:"spinner-container",children:[(0,i.jsx)(o.A,{size:35,color:"#000"}),(0,i.jsx)("p",{children:"Loading recipes..."})]}):d?(0,i.jsx)("p",{className:"error",children:d}):0===r.length?(0,i.jsx)("p",{className:"no-recipes",children:"No recipes found in this category."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"category-header",children:(0,i.jsxs)("h1",{children:["Recipes in ",e]})}),(0,i.jsx)("div",{className:"category-container",children:r.map((e=>{var r,t,s;return(0,i.jsxs)("div",{className:"recipe-item",children:[(0,i.jsx)("div",{className:"recipe-title",children:(0,i.jsx)(n.N_,{to:`/recipes/${e.id}`,style:{textDecoration:"none",color:"inherit"},children:null!==(r=e.title)&&void 0!==r?r:"Untitled Recipe"})}),(0,i.jsxs)("div",{className:"recipe-content",children:[e.image?(0,i.jsx)("img",{className:"recipe-image",src:e.image,alt:null!==(t=e.title)&&void 0!==t?t:"Untitled Recipe"}):(0,i.jsx)("p",{className:"no-image",children:"No image available"}),(0,i.jsx)("p",{className:"recipe-preview",children:null!==(s=e.preview)&&void 0!==s?s:"No preview available for this recipe."})]})]},e.id)}))})]})},m=()=>{const[e,r]=(0,c.useState)([]),[t,s]=(0,c.useState)(!0),[a,l]=(0,c.useState)(null);return(0,c.useEffect)((()=>{p.get("categories/").then((e=>{r(e.data),l(null)})).catch((()=>{l("Failed to fetch categories.")})).finally((()=>{s(!1)}))}),[]),t?(0,i.jsx)("div",{className:"spinner-container",children:(0,i.jsx)(o.A,{size:35,color:"#000",loading:t})}):a?(0,i.jsx)("p",{className:"error",children:a}):0===e.length?(0,i.jsx)("p",{className:"no-categories",children:"No categories available."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"categories-header",children:(0,i.jsx)("h1",{children:"Categories"})}),(0,i.jsx)("div",{className:"categories-container",children:(0,i.jsx)("ul",{children:e.map((e=>{var r,t;return(0,i.jsxs)("li",{className:"category-item",style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[e.image?(0,i.jsx)("img",{className:"category-image",src:e.image,alt:null!==(r=e.name)&&void 0!==r?r:"Unnamed category"}):(0,i.jsx)("p",{className:"no-image",children:"No image available"}),(0,i.jsx)(n.N_,{to:`/categories/${e.slug}`,style:{textDecoration:"none",color:"inherit",fontWeight:"bold",marginBottom:"10px"},children:null!==(t=e.name)&&void 0!==t?t:"Unnamed category"})]},e.slug)}))})})]})},x=()=>{var e,r,t;const{id:s}=(0,a.g)(),[n,l]=(0,c.useState)(null),[d,h]=(0,c.useState)(!0),[u,g]=(0,c.useState)(null);if((0,c.useEffect)((()=>{if(!s)return g("Recipe ID is missing"),void h(!1);(e=>p.get(`recipes/${e}/`))(parseInt(s)).then((e=>{l(e.data),h(!1)})).catch((()=>{g("Failed to fetch recipe details"),h(!1)}))}),[s]),d)return(0,i.jsxs)("div",{className:"spinner-container",children:[(0,i.jsx)(o.A,{size:35,color:"#000"}),(0,i.jsx)("p",{children:"Loading recipes..."})]});if(u)return(0,i.jsx)("p",{className:"error",children:u});if(!n)return(0,i.jsx)("p",{className:"no-recipe",children:"No recipe found."});const m=new Date(null==n?void 0:n.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,i.jsxs)("div",{className:"recipe-container",children:[(0,i.jsxs)("div",{className:"recipe-header",children:[(0,i.jsx)("p",{children:null!==(e=n.category)&&void 0!==e?e:"Unknown Category"}),(0,i.jsx)("h1",{children:null!==(r=n.title)&&void 0!==r?r:"Untitled Recipe"}),(0,i.jsxs)("p",{className:"recipe-date",children:["( Posted on: ",m," )"]})]}),(0,i.jsx)("div",{className:"recipe-image-container",children:n.image?(0,i.jsx)("img",{className:"recipe-image",src:n.image,alt:n.title}):(0,i.jsx)("p",{className:"no-image",children:"No image available"})}),(0,i.jsxs)("div",{className:"recipe-description",children:[(0,i.jsx)("h2",{children:"Description"}),(0,i.jsx)("p",{children:null!==(t=n.description)&&void 0!==t?t:"No description provided"})]}),(0,i.jsxs)("div",{className:"recipe-ingredients",children:[(0,i.jsx)("h2",{children:"Ingredients"}),(0,i.jsx)("ul",{children:n.ingredients?n.ingredients.split("<br>").map(((e,r)=>(0,i.jsx)("li",{children:e.trim()},r))):(0,i.jsx)("li",{children:"No ingredients listed"})})]}),(0,i.jsxs)("div",{className:"recipe-instructions",children:[(0,i.jsx)("h2",{children:"Instructions"}),(0,i.jsx)("ul",{children:n.instructions?n.instructions.split("<br>").map(((e,r)=>(0,i.jsx)("li",{children:e.trim()},r))):(0,i.jsx)("li",{children:"No instructions provided"})})]})]})};var j=t(4948);const f=()=>(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"API Documentation"}),(0,i.jsx)(j.A,{url:"http://127.0.0.1:8000/api/schema/"})]}),v=({isActive:e})=>({textDecoration:"none",borderBottom:e?"5px solid #ffa70f":"none",fontWeight:e?"bold":"normal",color:"inherit"});const y=function(){return(0,i.jsxs)("div",{className:"App",children:[(0,i.jsxs)("nav",{children:[(0,i.jsx)(n.k2,{to:"/",style:v,children:"Home"}),(0,i.jsx)(n.k2,{to:"/categories",style:v,children:"Categories"}),(0,i.jsx)(n.k2,{to:"/api-docs",style:v,children:"API Docs"})]}),(0,i.jsxs)(a.BV,{children:[(0,i.jsx)(a.qh,{path:"/",element:(0,i.jsx)(u,{})}),(0,i.jsx)(a.qh,{path:"/categories",element:(0,i.jsx)(m,{})}),(0,i.jsx)(a.qh,{path:"/categories/:slug",element:(0,i.jsx)(g,{})}),(0,i.jsx)(a.qh,{path:"/recipes/:id",element:(0,i.jsx)(x,{})}),(0,i.jsx)(a.qh,{path:"/api-docs",element:(0,i.jsx)(f,{})}),(0,i.jsx)(a.qh,{path:"*",element:(0,i.jsx)("h2",{children:"404 - Page Not Found"})})]})]})};s.createRoot(document.getElementById("root")).render((0,i.jsx)(n.Kd,{children:(0,i.jsx)(y,{})}))}},s={};function n(e){var r=s[e];if(void 0!==r)return r.exports;var t=s[e]={id:e,loaded:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}n.m=i,e=[],n.O=(r,t,i,s)=>{if(!t){var a=1/0;for(d=0;d<e.length;d++){for(var[t,i,s]=e[d],c=!0,l=0;l<t.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](t[l])))?t.splice(l--,1):(c=!1,s<a&&(a=s));if(c){e.splice(d--,1);var o=i();void 0!==o&&(r=o)}}return r}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[t,i,s]},n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var s=Object.create(null);n.r(s);var a={};r=r||[null,t({}),t([]),t(t)];for(var c=2&i&&e;"object"==typeof c&&!~r.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((r=>a[r]=()=>e[r]));return a.default=()=>e,n.d(s,a),s},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};n.O.j=r=>0===e[r];var r=(r,t)=>{var i,s,[a,c,l]=t,o=0;if(a.some((r=>0!==e[r]))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(l)var d=l(n)}for(r&&r(t);o<a.length;o++)s=a[o],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},t=self.webpackChunkfrontend=self.webpackChunkfrontend||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var a=n.O(void 0,[833],(()=>n(9446)));a=n.O(a)})();